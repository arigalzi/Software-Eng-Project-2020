<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (13.0.1) on Thu Jul 02 19:06:22 CEST 2020 -->
<title>ClientHandler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-07-02">
<meta name="description" content="declaration: module: it.polimi.ingsw.PSP47, package: it.polimi.ingsw.PSP47.Network.Server, class: ClientHandler">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
    <script type="text/javascript"
            src="../../../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
    <![endif]-->
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../../../../../../module-summary.html">it.polimi.ingsw.PSP47</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.PSP47.Network.Server</a></div>
<h1 title="Class ClientHandler" class="title">Class ClientHandler</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="ClientHandlerObservable.html" title="class in it.polimi.ingsw.PSP47.Network.Server">it.polimi.ingsw.PSP47.Network.Server.ClientHandlerObservable</a>
<div class="inheritance">it.polimi.ingsw.PSP47.Network.Server.ClientHandler</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.Runnable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ClientHandler</span>
extends <a href="ClientHandlerObservable.html" title="class in it.polimi.ingsw.PSP47.Network.Server">ClientHandlerObservable</a>
implements java.lang.Runnable</pre>
<div class="block">This class handles the connection and the communication between the server and a client.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ClientHandler.MessageHandler.html" title="class in it.polimi.ingsw.PSP47.Network.Server">ClientHandler.MessageHandler</a></span></code></th>
<td class="colLast">
<div class="block">This Runnable class handles the messages living the clientHandler free to receive ping messages.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private java.net.Socket</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clientSocket">clientSocket</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.io.ObjectInputStream</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inputClient">inputClient</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isConnected">isConnected</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.ExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#messageExecutor">messageExecutor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.ObjectOutputStream</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#outputClient">outputClient</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="ServerTimer.html" title="class in it.polimi.ingsw.PSP47.Network.Server">ServerTimer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serverTimer">serverTimer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="VirtualView.html" title="class in it.polimi.ingsw.PSP47.Network.Server">VirtualView</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#virtualView">virtualView</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.net.Socket)">ClientHandler</a></span>&#8203;(java.net.Socket&nbsp;clientSocket)</code></th>
<td class="colLast">
<div class="block">This constructor initializes the input stream and output stream of the sockets.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#askAgainParameters(java.lang.String)">askAgainParameters</a></span>&#8203;(java.lang.String&nbsp;wrongParameter)</code></th>
<td class="colLast">
<div class="block">It sends a message to the client to ask them again the username and color, because the previous ones
 submitted were not different from the other players already added to the game.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#askParameters()">askParameters</a></span>()</code></th>
<td class="colLast">
<div class="block">It sends a <a href="../Message/FirstConnection.html" title="class in it.polimi.ingsw.PSP47.Network.Message"><code>FirstConnection</code></a> request to the client.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>(package private) <a href="VirtualView.html" title="class in it.polimi.ingsw.PSP47.Network.Server">VirtualView</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createVirtualView(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.Color)">createVirtualView</a></span>&#8203;(java.lang.String&nbsp;username,
<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&nbsp;color)</code></th>
<td class="colLast">
<div class="block">It creates the virtual view when the game starts.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dispatchMessages()">dispatchMessages</a></span>()</code></th>
<td class="colLast">
<div class="block">This method dispatches the messages coming from the client.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endConnection()">endConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">It ends the connection of this client and notifies the server to handle it.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gameOver(boolean)">gameOver</a></span>&#8203;(boolean&nbsp;endGame)</code></th>
<td class="colLast">
<div class="block">This method handles a game over.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyOpponentClientDisconnected(java.lang.String)">notifyOpponentClientDisconnected</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">It sends a message to the client to warn them that the player with the username specified disconnected.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">This method makes the server listen to the ping from the client and checks if the game is already started.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#send(it.polimi.ingsw.PSP47.Network.Message.Message)">send</a></span>&#8203;(<a href="../Message/Message.html" title="class in it.polimi.ingsw.PSP47.Network.Message">Message</a>&nbsp;message)</code></th>
<td class="colLast">
<div class="block">This method serializes the messages and sends them to the client.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendAction()">sendAction</a></span>()</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client to ask which action he wants to do next.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendAskWorkersPosition()">sendAskWorkersPosition</a></span>()</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client to ask the initial position of his workers.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendConnectionAccepted(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.Color)">sendConnectionAccepted</a></span>&#8203;(java.lang.String&nbsp;username,
<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&nbsp;color)</code></th>
<td class="colLast">
<div class="block">This method sends a method to the client to set in it his/her color and username.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendError(java.lang.String)">sendError</a></span>&#8203;(java.lang.String&nbsp;errorText)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client to warn him that he did something wrong.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendGodsList(java.util.ArrayList)">sendGodsList</a></span>&#8203;(java.util.ArrayList&lt;<a href="../../Enumerations/GodName.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">GodName</a>&gt;&nbsp;gods)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client with the list of available gods they can choose from.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendImportant(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.MessageType)">sendImportant</a></span>&#8203;(java.lang.String&nbsp;text,
<a href="../../Enumerations/MessageType.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">MessageType</a>&nbsp;messageType)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client with a general information.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendNumberOfPlayers(int)">sendNumberOfPlayers</a></span>&#8203;(int&nbsp;numberOfPlayers)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client with the number of players</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendPublicInformation(java.util.ArrayList,java.util.ArrayList,java.util.ArrayList)">sendPublicInformation</a></span>&#8203;(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;usernames,
java.util.ArrayList&lt;<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&gt;&nbsp;colors,
java.util.ArrayList&lt;<a href="../../Enumerations/GodName.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">GodName</a>&gt;&nbsp;godNames)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client with all the information about the players of the current game.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendRowAndColumn(int,int)">sendRowAndColumn</a></span>&#8203;(int&nbsp;row,
int&nbsp;column)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendUpdateSlot(it.polimi.ingsw.PSP47.Model.Slot)">sendUpdateSlot</a></span>&#8203;(<a href="../../Model/Slot.html" title="class in it.polimi.ingsw.PSP47.Model">Slot</a>&nbsp;updatedSlot)</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client with an update of the model (a modified slot).</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendWhichWorker()">sendWhichWorker</a></span>()</code></th>
<td class="colLast">
<div class="block">This method sends a message to the client to ask which worker he wants to use, asking the slot he is on.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendYouAreTheChallenger(java.util.ArrayList)">sendYouAreTheChallenger</a></span>&#8203;(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;usernames)</code></th>
<td class="colLast">
<div class="block">This method send a message to the client to tell them that they are the Challenger.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;it.polimi.ingsw.PSP47.Network.Server.<a href="ClientHandlerObservable.html" title="class in it.polimi.ingsw.PSP47.Network.Server">ClientHandlerObservable</a></h3>
<a id="methods.inherited.from.class.it.polimi.ingsw.PSP47.Network.Server.ClientHandlerObservable">
<!--   -->
</a><code><a href="ClientHandlerObservable.html#addClientHandlerListener(it.polimi.ingsw.PSP47.Network.Server.ClientHandlerListener)">addClientHandlerListener</a>, <a href="ClientHandlerObservable.html#notifyClientHandlerGameOver(it.polimi.ingsw.PSP47.Network.Server.ClientHandler,boolean)">notifyClientHandlerGameOver</a>, <a href="ClientHandlerObservable.html#notifyDisconnection(it.polimi.ingsw.PSP47.Network.Server.ClientHandler)">notifyDisconnection</a>, <a href="ClientHandlerObservable.html#notifyFirstConnection(it.polimi.ingsw.PSP47.Network.Message.FirstConnection,it.polimi.ingsw.PSP47.Network.Server.ClientHandler)">notifyFirstConnection</a>, <a href="ClientHandlerObservable.html#notifyPlayersNumber(it.polimi.ingsw.PSP47.Network.Message.RequestPlayersNumber,it.polimi.ingsw.PSP47.Network.Server.ClientHandler)">notifyPlayersNumber</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="clientSocket">clientSocket</a></h3>
<div class="memberSignature"><span class="modifiers">private final</span>&nbsp;<span class="returnType">java.net.Socket</span>&nbsp;<span class="memberName">clientSocket</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="inputClient">inputClient</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.io.ObjectInputStream</span>&nbsp;<span class="memberName">inputClient</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="outputClient">outputClient</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.io.ObjectOutputStream</span>&nbsp;<span class="memberName">outputClient</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isConnected">isConnected</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isConnected</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="virtualView">virtualView</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType"><a href="VirtualView.html" title="class in it.polimi.ingsw.PSP47.Network.Server">VirtualView</a></span>&nbsp;<span class="memberName">virtualView</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="serverTimer">serverTimer</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType"><a href="ServerTimer.html" title="class in it.polimi.ingsw.PSP47.Network.Server">ServerTimer</a></span>&nbsp;<span class="memberName">serverTimer</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="messageExecutor">messageExecutor</a></h3>
<div class="memberSignature"><span class="modifiers">private final</span>&nbsp;<span class="returnType">java.util.concurrent.ExecutorService</span>&nbsp;<span class="memberName">messageExecutor</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.net.Socket)">ClientHandler</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">ClientHandler</span>&#8203;(<span class="arguments">java.net.Socket&nbsp;clientSocket)</span></div>
<div class="block">This constructor initializes the input stream and output stream of the sockets.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientSocket</code> - the socket of the <a href="../Client/Client.html" title="class in it.polimi.ingsw.PSP47.Network.Client"><code>Client</code></a> connected to the server.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="run()">run</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">run</span>()</div>
<div class="block">This method makes the server listen to the ping from the client and checks if the game is already started.
 If so, the client handler immediately closes the connection. Otherwise, it asks to the client the username
 and the color and then it begins to listen to the messages from the client.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="dispatchMessages()">dispatchMessages</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">dispatchMessages</span>()</div>
<div class="block">This method dispatches the messages coming from the client. If the message is a ping it is handled, otherwise
 it forwards them to the runnable class <a href="ClientHandler.MessageHandler.html" title="class in it.polimi.ingsw.PSP47.Network.Server"><code>ClientHandler.MessageHandler</code></a>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="send(it.polimi.ingsw.PSP47.Network.Message.Message)">send</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">send</span>&#8203;(<span class="arguments"><a href="../Message/Message.html" title="class in it.polimi.ingsw.PSP47.Network.Message">Message</a>&nbsp;message)</span></div>
<div class="block">This method serializes the messages and sends them to the client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the message that must be sent.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="endConnection()">endConnection</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">endConnection</span>()</div>
<div class="block">It ends the connection of this client and notifies the server to handle it.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="askParameters()">askParameters</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">askParameters</span>()</div>
<div class="block">It sends a <a href="../Message/FirstConnection.html" title="class in it.polimi.ingsw.PSP47.Network.Message"><code>FirstConnection</code></a> request to the client.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../Message/FirstConnection.html" title="class in it.polimi.ingsw.PSP47.Network.Message"><code>FirstConnection</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="askAgainParameters(java.lang.String)">askAgainParameters</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">askAgainParameters</span>&#8203;(<span class="arguments">java.lang.String&nbsp;wrongParameter)</span></div>
<div class="block">It sends a message to the client to ask them again the username and color, because the previous ones
 submitted were not different from the other players already added to the game.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wrongParameter</code> - it can be username, color or both.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="notifyOpponentClientDisconnected(java.lang.String)">notifyOpponentClientDisconnected</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">notifyOpponentClientDisconnected</span>&#8203;(<span class="arguments">java.lang.String&nbsp;username)</span></div>
<div class="block">It sends a message to the client to warn them that the player with the username specified disconnected.
 It ends the game and the connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the player's username who disconnected.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="createVirtualView(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.Color)">createVirtualView</a></h3>
<div class="memberSignature"><span class="returnType"><a href="VirtualView.html" title="class in it.polimi.ingsw.PSP47.Network.Server">VirtualView</a></span>&nbsp;<span class="memberName">createVirtualView</span>&#8203;(<span class="arguments">java.lang.String&nbsp;username,
<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&nbsp;color)</span></div>
<div class="block">It creates the virtual view when the game starts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - virtualView's player's username</dd>
<dd><code>color</code> - virtualView's player's color.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the virtual view just created.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gameOver(boolean)">gameOver</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">gameOver</span>&#8203;(<span class="arguments">boolean&nbsp;endGame)</span></div>
<div class="block">This method handles a game over.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endGame</code> - true if the game is ended, false otherwise</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendNumberOfPlayers(int)">sendNumberOfPlayers</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendNumberOfPlayers</span>&#8203;(<span class="arguments">int&nbsp;numberOfPlayers)</span></div>
<div class="block">This method sends a message to the client with the number of players</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numberOfPlayers</code> - parameter that must be sent.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendYouAreTheChallenger(java.util.ArrayList)">sendYouAreTheChallenger</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendYouAreTheChallenger</span>&#8203;(<span class="arguments">java.util.ArrayList&lt;java.lang.String&gt;&nbsp;usernames)</span></div>
<div class="block">This method send a message to the client to tell them that they are the Challenger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>usernames</code> - the list of usernames of the players.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendGodsList(java.util.ArrayList)">sendGodsList</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendGodsList</span>&#8203;(<span class="arguments">java.util.ArrayList&lt;<a href="../../Enumerations/GodName.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">GodName</a>&gt;&nbsp;gods)</span></div>
<div class="block">This method sends a message to the client with the list of available gods they can choose from.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gods</code> - list of available gods.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendPublicInformation(java.util.ArrayList,java.util.ArrayList,java.util.ArrayList)">sendPublicInformation</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendPublicInformation</span>&#8203;(<span class="arguments">java.util.ArrayList&lt;java.lang.String&gt;&nbsp;usernames,
java.util.ArrayList&lt;<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&gt;&nbsp;colors,
java.util.ArrayList&lt;<a href="../../Enumerations/GodName.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">GodName</a>&gt;&nbsp;godNames)</span></div>
<div class="block">This method sends a message to the client with all the information about the players of the current game.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>usernames</code> - the username of each client</dd>
<dd><code>colors</code> - the color of each client</dd>
<dd><code>godNames</code> - the god chose from each client</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendUpdateSlot(it.polimi.ingsw.PSP47.Model.Slot)">sendUpdateSlot</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendUpdateSlot</span>&#8203;(<span class="arguments"><a href="../../Model/Slot.html" title="class in it.polimi.ingsw.PSP47.Model">Slot</a>&nbsp;updatedSlot)</span></div>
<div class="block">This method sends a message to the client with an update of the model (a modified slot).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updatedSlot</code> - the modified slot.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendAskWorkersPosition()">sendAskWorkersPosition</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendAskWorkersPosition</span>()</div>
<div class="block">This method sends a message to the client to ask the initial position of his workers.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendError(java.lang.String)">sendError</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendError</span>&#8203;(<span class="arguments">java.lang.String&nbsp;errorText)</span></div>
<div class="block">This method sends a message to the client to warn him that he did something wrong.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>errorText</code> - the errorString that explain what he did wrong.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendImportant(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.MessageType)">sendImportant</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendImportant</span>&#8203;(<span class="arguments">java.lang.String&nbsp;text,
<a href="../../Enumerations/MessageType.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">MessageType</a>&nbsp;messageType)</span></div>
<div class="block">This method sends a message to the client with a general information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>text</code> - the String with the advice that must be sent.</dd>
<dd><code>messageType</code> - the type of important message that will be sent</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendWhichWorker()">sendWhichWorker</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendWhichWorker</span>()</div>
<div class="block">This method sends a message to the client to ask which worker he wants to use, asking the slot he is on.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendAction()">sendAction</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendAction</span>()</div>
<div class="block">This method sends a message to the client to ask which action he wants to do next.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendRowAndColumn(int,int)">sendRowAndColumn</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendRowAndColumn</span>&#8203;(<span class="arguments">int&nbsp;row,
int&nbsp;column)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendConnectionAccepted(java.lang.String,it.polimi.ingsw.PSP47.Enumerations.Color)">sendConnectionAccepted</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendConnectionAccepted</span>&#8203;(<span class="arguments">java.lang.String&nbsp;username,
<a href="../../Enumerations/Color.html" title="enum in it.polimi.ingsw.PSP47.Enumerations">Color</a>&nbsp;color)</span></div>
<div class="block">This method sends a method to the client to set in it his/her color and username.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - of the client</dd>
<dd><code>color</code> - of the client</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
